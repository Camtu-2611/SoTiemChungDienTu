{"remainingRequest":"D:\\DOAN\\Project\\SoTiemChungDienTu\\UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DOAN\\Project\\SoTiemChungDienTu\\UI\\src\\views\\evaluate\\component\\EvaluateList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DOAN\\Project\\SoTiemChungDienTu\\UI\\src\\views\\evaluate\\component\\EvaluateList.vue","mtime":1628900445846},{"path":"D:\\DOAN\\Project\\SoTiemChungDienTu\\UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DOAN\\Project\\SoTiemChungDienTu\\UI\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\DOAN\\Project\\SoTiemChungDienTu\\UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DOAN\\Project\\SoTiemChungDienTu\\UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQmFzZUJ1dHRvbiBmcm9tICJAL3ZpZXdzL2V2YWx1YXRlL2Jhc2UvQmFzZUJ1dHRvbi52dWUiOw0KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAibW9tZW50IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgQmFzZUJ1dHRvbiwNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZSh7DQogICAgICBldmFsdWF0ZVN0YXRlOiAoc3RhdGUpID0+IHN0YXRlLmV2YWx1YXRlLmV2YWx1YXRlU3RhdGUsDQogICAgICBldmFsdWF0ZVJlcG9ydHM6IChzdGF0ZSkgPT4gc3RhdGUuZXZhbHVhdGUuZXZhbHVhdGVSZXBvcnRzLA0KICAgIH0pLA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZm9ybWF0RGF0ZShpbnB1dCkgew0KICAgICAgcmV0dXJuIG1vbWVudChpbnB1dCkuZm9ybWF0KCJERC1NTS1ZWVlZIik7DQogICAgICAvLyByZXR1cm4gbW9tZW50KCkuZm9ybWF0KCdNTU1NIERvIFlZWVksIGg6bW06c3MgYScpOzsNCiAgICAgIC8vIHJldHVybiBpbnB1dDsNCiAgICB9LA0KICAgIGFzeW5jIGRlbGV0ZVJlcG9ydChpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgdmFyIHJlcyA9IGF3YWl0IGF4aW9zLmRlbGV0ZSgNCiAgICAgICAgICAiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzODIvYXBpL3YxL2JpZW5iYW5kYW5oZ2lhdGFpc2Fucy8iICsgaWQNCiAgICAgICAgKTsNCiAgICAgICAgaWYgKCFyZXMuZGF0YS5pc1N1Y2Nlc3MpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCJVbmFibGUgdG8gZGVsZXRlOiAiICsgaWQpOw0KICAgICAgICAgIHRocm93ICJYw7NhIGtow7RuZyB0aMOgbmggY8O0bmciOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoIljDs2EgdGjDoG5oIGPDtG5nIik7DQogICAgICB9IGNhdGNoIHsNCiAgICAgICAgdGhpcy4kdG9hc3QuZXJyb3IoIljDs2Ega2jDtG5nIHRow6BuaCBjw7RuZyIpOw0KICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImV2YWx1YXRlL2dldFJlcG9ydHMiKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIFhlbSBjaGkgdGlldCBiYW8gY2FvDQogICAgICovDQogICAgYXN5bmMgc2hvd0RldGFpbChpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImV2YWx1YXRlL2dldFNlbGVjdGVkUmVwb3J0IiwgaWQpOw0KICAgICAgICB0aGlzLiRlbWl0KCJ0b2dnbGVTaG93RGV0YWlsIik7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiZXZhbHVhdGUvU0VUX0RJU0FCTEVfREVUQUlMIiwgdHJ1ZSk7DQogICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICB0aGlzLiR0b2FzdC5lcnJvcigiTOG6pXkgZOG7ryBsaeG7h3UgdGjhuqV0IGLhuqFpIik7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXgpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZWRpdERldGFpbChpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImV2YWx1YXRlL2dldFNlbGVjdGVkUmVwb3J0IiwgaWQpOw0KICAgICAgICB0aGlzLiRlbWl0KCJ0b2dnbGVTaG93RGV0YWlsIik7DQogICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICB0aGlzLiR0b2FzdC5lcnJvcigiTOG6pXkgZOG7ryBsaeG7h3UgdGjhuqV0IGLhuqFpIik7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXgpOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7DQogICAgaXNTaG93KG5ld1ZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCkgew0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImV2YWx1YXRlL1NFVF9ESVNBQkxFX0RFVEFJTCIsIGZhbHNlKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBwcm9wczogew0KICAgIGlzU2hvdzogQm9vbGVhbiwNCiAgfSwNCn07DQo="},{"version":3,"sources":["EvaluateList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EvaluateList.vue","sourceRoot":"src/views/evaluate/component","sourcesContent":["<template>\r\n  <div class=\"component-wrapper\">\r\n    <div class=\"header\">\r\n      <div class=\"align-left\">\r\n        <div class=\"tilte\">Đánh giá lại tài sản</div>\r\n      </div>\r\n      <div class=\"align-right\">\r\n        <div class=\"btn-help\">Hướng dẫn</div>\r\n        <BaseButton class=\"active\" @click=\"$emit('toggleShowDetail')\"\r\n          >Thêm đánh giá lại</BaseButton\r\n        >\r\n        <div class=\"btn icon-refresh features-pane-item\" title=\"Tải lại\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"table-container\">\r\n        <div class=\"table-content\">\r\n          <table>\r\n            <colgroup>\r\n              <col width=\"50\" />\r\n              <col width=\"150\" />\r\n              <col width=\"150\" />\r\n              <col min-width=\"800\" />\r\n              <col width=\"150\" />\r\n              <col width=\"130\" />\r\n            </colgroup>\r\n            <thead>\r\n              <tr>\r\n                <th>\r\n                  <div class=\"checkbox-icon\" style=\"width: 16px\">\r\n                    <input class=\"checkboxAll1\" type=\"checkbox\" />\r\n                  </div>\r\n                </th>\r\n                <th>Biên bản số</th>\r\n                <th>Ngày lập</th>\r\n                <th>Lý do</th>\r\n                <th>Thời gian chỉnh sửa</th>\r\n                <th class=\"text-center\">Chức năng</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <tr\r\n                v-for=\"item in evaluateReports\"\r\n                :key=\"item.bienBanDanhGiaTaiSanId\"\r\n              >\r\n                <td>\r\n                  <div class=\"checkbox-icon\" style=\"width: 16px\">\r\n                    <input class=\"checkboxAll1\" type=\"checkbox\" />\r\n                  </div>\r\n                </td>\r\n                <td class=\"text-active\">{{ item.sobienban }}</td>\r\n                <td>{{ formatDate(item.ngaylap) }}</td>\r\n                <td>{{ item.lydo }}</td>\r\n                <td>{{ formatDate(item.modifiedDate) }}</td>\r\n\r\n                <td class=\"column-buttons\">\r\n                  <div class=\"btn-container\">\r\n                    <div\r\n                      class=\"icon icon-view-details\"\r\n                      title=\"Chi tiết\"\r\n                      @click=\"showDetail(item.bienBanDanhGiaTaiSanId)\"\r\n                    ></div>\r\n                    <div\r\n                      class=\"icon icon-edit-pen\"\r\n                      title=\"Sửa\"\r\n                      @click=\"editDetail(item.bienBanDanhGiaTaiSanId)\"\r\n                    ></div>\r\n                    <div\r\n                      @click=\"deleteReport(item.bienBanDanhGiaTaiSanId)\"\r\n                      class=\"icon icon-trash-table\"\r\n                      title=\"Xóa\"\r\n                    ></div>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"table-pagination\">\r\n          <div class=\"record-count\">\r\n            Tổng số bản ghi: {{ evaluateReports.length }}\r\n          </div>\r\n\r\n          <div class=\"paging-toolbar\">\r\n            <div title=\"Trang đầu\" class=\"p-button first-page\"></div>\r\n            <div title=\"Trang trước\" class=\"p-button prev-page\"></div>\r\n            <div>Trang</div>\r\n            <input type=\"number\" value=\"1\" class=\"text-pagebumber\" />\r\n            <div>Trên 1</div>\r\n\r\n            <div title=\"Trang sau\" class=\"p-button next-page\"></div>\r\n            <div title=\"Trang cuối\" class=\"p-button last-page\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseButton from \"@/views/evaluate/base/BaseButton.vue\";\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\nimport * as moment from \"moment\";\r\n\r\nexport default {\r\n  components: {\r\n    BaseButton,\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      evaluateState: (state) => state.evaluate.evaluateState,\r\n      evaluateReports: (state) => state.evaluate.evaluateReports,\r\n    }),\r\n  },\r\n  methods: {\r\n    formatDate(input) {\r\n      return moment(input).format(\"DD-MM-YYYY\");\r\n      // return moment().format('MMMM Do YYYY, h:mm:ss a');;\r\n      // return input;\r\n    },\r\n    async deleteReport(id) {\r\n      try {\r\n        var res = await axios.delete(\r\n          \"https://localhost:44382/api/v1/bienbandanhgiataisans/\" + id\r\n        );\r\n        if (!res.data.isSuccess) {\r\n          console.error(\"Unable to delete: \" + id);\r\n          throw \"Xóa không thành công\";\r\n        }\r\n        this.$toast.success(\"Xóa thành công\");\r\n      } catch {\r\n        this.$toast.error(\"Xóa không thành công\");\r\n      } finally {\r\n        this.$store.dispatch(\"evaluate/getReports\");\r\n      }\r\n    },\r\n    /**\r\n     * Xem chi tiet bao cao\r\n     */\r\n    async showDetail(id) {\r\n      try {\r\n        await this.$store.dispatch(\"evaluate/getSelectedReport\", id);\r\n        this.$emit(\"toggleShowDetail\");\r\n        this.$store.commit(\"evaluate/SET_DISABLE_DETAIL\", true);\r\n      } catch (ex) {\r\n        this.$toast.error(\"Lấy dữ liệu thất bại\");\r\n        console.error(ex);\r\n      }\r\n    },\r\n    async editDetail(id) {\r\n      try {\r\n        await this.$store.dispatch(\"evaluate/getSelectedReport\", id);\r\n        this.$emit(\"toggleShowDetail\");\r\n      } catch (ex) {\r\n        this.$toast.error(\"Lấy dữ liệu thất bại\");\r\n        console.error(ex);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    isShow(newVal) {\r\n      if (newVal) {\r\n        this.$store.commit(\"evaluate/SET_DISABLE_DETAIL\", false);\r\n      }\r\n    },\r\n  },\r\n  props: {\r\n    isShow: Boolean,\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/style/_variables.scss\";\r\n.component-wrapper {\r\n  height: calc(100% - 40px);\r\n  padding: 32px 0px 10px 16px;\r\n\r\n  .header {\r\n    height: 36px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 24px;\r\n    line-height: 36px;\r\n\r\n    .align-left {\r\n      font-family: \"GoogleSans-Medium\";\r\n      font-size: 1.3rem;\r\n    }\r\n\r\n    .align-right {\r\n      display: flex;\r\n      align-content: center;\r\n      div {\r\n        margin: 0 8px;\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    height: 100%;\r\n    .table-container {\r\n      height: calc(100% - 161px);\r\n      .table-content {\r\n        height: 100%;\r\n        overflow: auto;\r\n        border: solid 1px #eaeaea;\r\n        border-right: 0;\r\n        margin-bottom: 10px;\r\n\r\n        .checkbox-icon {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n        }\r\n        .text-active {\r\n          color: $sub-primary;\r\n          cursor: pointer;\r\n        }\r\n        thead {\r\n          text-align: left;\r\n\r\n          .text-center {\r\n            text-align: center;\r\n          }\r\n        }\r\n\r\n        tbody {\r\n          .column-buttons {\r\n            .btn-container {\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: space-evenly;\r\n              .icon {\r\n                width: 18px;\r\n                height: 18px;\r\n                cursor: pointer;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // tr {\r\n        //   // border: 1px solid #d0cece;\r\n        // }\r\n      }\r\n      .table-pagination {\r\n        position: relative;\r\n        height: 60px;\r\n        .record-count {\r\n          position: absolute;\r\n          top: 10px;\r\n          left: 0;\r\n          font-family: \"GOOGLESANS-BOLD\";\r\n        }\r\n\r\n        .paging-toolbar {\r\n          height: 100%;\r\n          display: flex;\r\n          justify-content: center;\r\n          padding-top: 10px;\r\n          div {\r\n            margin: 0 8px;\r\n          }\r\n          .p-button {\r\n            height: 24px;\r\n            width: 24px;\r\n            border: 1px solid #d0d0d0;\r\n            border-radius: 3px;\r\n            background-color: #fff;\r\n            margin-right: 2px;\r\n          }\r\n          .first-page {\r\n            background: url(~@/assets/icon/common-icon.png) no-repeat -649px -124px;\r\n            width: 24px;\r\n            height: 24px;\r\n            background-color: #fff;\r\n            border-radius: 3px;\r\n            cursor: pointer;\r\n          }\r\n\r\n          .text-pagebumber,\r\n          .select-quantitypage {\r\n            border-radius: 3px;\r\n            text-align: center;\r\n          }\r\n\r\n          .text-pagebumber {\r\n            width: 36px;\r\n            height: 16px;\r\n            padding: 4px 6px;\r\n            border: 1px solid #d0d0d0;\r\n            box-sizing: border-box;\r\n            height: 24px;\r\n          }\r\n\r\n          .refresh {\r\n            background: url(~@/assets/icon/common-icon.png) no-repeat -849px -124px;\r\n            border: 1px solid #6b6f9d !important;\r\n          }\r\n          .last-page {\r\n            background: url(~@/assets/icon/common-icon.png) no-repeat -798px -124px;\r\n          }\r\n          .next-page {\r\n            background: url(~@/assets/icon/common-icon.png) no-repeat -749px -124px;\r\n          }\r\n\r\n          .select-quantitypage {\r\n            width: 46px;\r\n            height: 26px;\r\n            border: 1px solid #d0d0d0;\r\n            outline: none !important;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}